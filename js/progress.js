!function(t,e){"object"==typeof exports?e(exports):"function"==typeof define&&define.amd?define(["exports"],e):e(t)}(this,(function(t){function e(t){void 0!==t.length?this._targetElement=t:this._targetElement=[t],void 0===window._progressjsId&&(window._progressjsId=1),void 0===window._progressjsIntervals&&(window._progressjsIntervals={}),this._options={theme:"blue",overlayMode:!1,considerTransition:!0}}function r(){void 0!==this._onBeforeStartCallback&&this._onBeforeStartCallback.call(this),f.call(this);for(var t=0,e=this._targetElement.length;t<e;t++)n.call(this,this._targetElement[t])}function n(t){if(!t.hasAttribute("data-progressjs")){var e=p.call(this,t);t.setAttribute("data-progressjs",window._progressjsId);var r=document.createElement("div");r.className="progressjs-progress progressjs-theme-"+this._options.theme,"body"===t.tagName.toLowerCase()?r.style.position="fixed":r.style.position="absolute",r.setAttribute("data-progressjs",window._progressjsId);var n=document.createElement("div");n.className="progressjs-inner";var s=document.createElement("div");s.className="progressjs-percent",s.innerHTML="1%",n.appendChild(s),this._options.overlayMode&&"body"===t.tagName.toLowerCase()?(r.style.left=0,r.style.right=0,r.style.top=0,r.style.bottom=0):(r.style.left=e.left+"px",r.style.top=e.top+"px","BODY"==t.nodeName?r.style.width="100%":r.style.width=e.width+"px",this._options.overlayMode&&(r.style.height=e.height+"px")),r.appendChild(n),document.querySelector(".progressjs-container").appendChild(r),o(t,1),++window._progressjsId}}function s(t){for(var e=0,r=this._targetElement.length;e<r;e++)o.call(this,this._targetElement[e],t)}function o(t,e){var r=this;e>=100&&(e=100),t.hasAttribute("data-progressjs")&&setTimeout((function(){void 0!==r._onProgressCallback&&r._onProgressCallback.call(r,t,e),(n=i(t)).style.width=parseInt(e)+"%";var n=n.querySelector(".progressjs-percent"),s=parseInt(n.innerHTML.replace("%",""));!function(t,e,r){var n=!0;e>r&&(n=!1);var s=10;!function t(e,r,o){var i=Math.abs(r-o);i<3?s=30:i<20?s=20:intervanIn=1,r-o!=0&&(e.innerHTML=(n?++r:--r)+"%",setTimeout((function(){t(e,r,o)}),s))}(t,e,r)}(n,s,parseInt(e))}),50)}function i(t){var e=parseInt(t.getAttribute("data-progressjs"));return document.querySelector('.progressjs-container > .progressjs-progress[data-progressjs="'+e+'"] > .progressjs-inner')}function a(t,e){var r=this,n=this._targetElement[0];if(n){var s=parseInt(n.getAttribute("data-progressjs"));void 0!==window._progressjsIntervals[s]&&clearInterval(window._progressjsIntervals[s]),window._progressjsIntervals[s]=setInterval((function(){l.call(r,t)}),e)}}function l(t){for(var e=0,r=this._targetElement.length;e<r;e++){var n=this._targetElement[e];if(n.hasAttribute("data-progressjs")){var s=i(n),a=parseInt(s.style.width.replace("%",""));a&&o.call(this,n,a+(t||1))}}}function c(){console.log("load end..."),$("#promptSort_loading").remove(),openMain(),void 0!==this._onBeforeEndCallback&&(!0===this._options.considerTransition?i(this._targetElement[0]).addEventListener(function(){var t,e=document.createElement("fakeelement"),r={transition:"transitionend",OTransition:"oTransitionEnd",MozTransition:"transitionend",WebkitTransition:"webkitTransitionEnd"};for(t in r)if(void 0!==e.style[t])return r[t]}(),this._onBeforeEndCallback,!1):this._onBeforeEndCallback.call(this));var t=this._targetElement[0];if(t){for(var e=parseInt(t.getAttribute("data-progressjs")),r=0,n=this._targetElement.length;r<n;r++){var s=this._targetElement[r],a=i(s);if(!a)return;var l=parseInt(a.style.width.replace("%","")),c=1;l<100&&(o.call(this,s,100),c=500),function(t,e){setTimeout((function(){t.parentNode.className+=" progressjs-end",setTimeout((function(){t.parentNode.parentNode.removeChild(t.parentNode),e.removeAttribute("data-progressjs")}),1e3)}),c)}(a,s)}if(window._progressjsIntervals[e])try{clearInterval(window._progressjsIntervals[e]),window._progressjsIntervals[e]=null,delete window._progressjsIntervals[e]}catch(t){}}}function d(){var t=this._targetElement[0];if(t){for(var e=parseInt(t.getAttribute("data-progressjs")),r=0,n=this._targetElement.length;r<n;r++){var s=this._targetElement[r],o=i(s);if(!o)return;!function(t,e){t.parentNode.className+=" progressjs-end",setTimeout((function(){t.parentNode.parentNode.removeChild(t.parentNode),e.removeAttribute("data-progressjs")}),1e3)}(o,s)}if(window._progressjsIntervals[e])try{clearInterval(window._progressjsIntervals[e]),window._progressjsIntervals[e]=null,delete window._progressjsIntervals[e]}catch(t){}}}function f(){if(!document.querySelector(".progressjs-container")){var t=document.createElement("div");t.className="progressjs-container",document.body.appendChild(t)}}function p(t){var e={};"body"===t.tagName.toLowerCase()?(e.width=t.clientWidth,e.height=t.clientHeight):(e.width=t.offsetWidth,e.height=t.offsetHeight);for(var r=0,n=0;t&&!isNaN(t.offsetLeft)&&!isNaN(t.offsetTop);)r+=t.offsetLeft,n+=t.offsetTop,t=t.offsetParent;return e.top=n,e.left=r,e}var h=function(t){if("object"==typeof t)return new e(t);if("string"==typeof t){var r=document.querySelectorAll(t);if(r)return new e(r);throw new Error("There is no element with given selector.")}return new e(document.body)};return h.version="0.1.0",h.fn=e.prototype={clone:function(){return new e(this)},setOption:function(t,e){return this._options[t]=e,this},setOptions:function(t){return this._options=function(t,e){var r={};for(var n in t)r[n]=t[n];for(var n in e)r[n]=e[n];return r}(this._options,t),this},start:function(){return r.call(this),this},set:function(t){return s.call(this,t),this},increase:function(t){return l.call(this,t),this},autoIncrease:function(t,e){return a.call(this,t,e),this},end:function(){return c.call(this),this},kill:function(){return d.call(this),this},onbeforeend:function(t){if("function"!=typeof t)throw new Error("Provided callback for onbeforeend was not a function");return this._onBeforeEndCallback=t,this},onbeforestart:function(t){if("function"!=typeof t)throw new Error("Provided callback for onbeforestart was not a function");return this._onBeforeStartCallback=t,this},onprogress:function(t){if("function"!=typeof t)throw new Error("Provided callback for onprogress was not a function");return this._onProgressCallback=t,this}},t.progressJs=h,h}));